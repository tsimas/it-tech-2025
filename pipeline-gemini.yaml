# fájl: azure-pipelines.yml
trigger:
  - main

parameters:
  - name: env
    type: string
    default: 'Dev'

variables:
  # 1) paraméterből vett érték (compile-time)
  compileTimeVar: ${{ parameters.env }}
  # 2) compile-time kifejezés format-tal
  compileExprVar: ${{ format('CT-{0}', parameters.env) }}
  # 3) statikus literal változó
  staticVar: 'staticValue'
  # 4) runtime kifejezés format-tal
  runtimeConcatVar: $[ format('RT-{0}', variables['staticVar']) ]
  # 5) makró-szintű változó (macro expression)
  macroVar: $(staticVar)
  # 6) rendszer-változó (system variable)
  agentOSVar: $(Agent.OS)

stages:
  - stage: Build
    displayName: 'Build Stage'
    jobs:
      - job: PrintVars
        displayName: 'Print all variable types'
        pool:
          vmImage: 'ubuntu-latest'
        steps:
          - script: |
              echo "compileTimeVar:       $(compileTimeVar)"
              echo "compileExprVar:       $(compileExprVar)"
              echo "runtimeConcatVar:     $(runtimeConcatVar)"
              echo "macroVar:             $(macroVar)"
              echo "agentOSVar:           $(agentOSVar)"
            displayName: 'Print variables'
